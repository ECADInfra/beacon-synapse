
version: 1
formatters:
    logfmt:
        format: 'ts=%(asctime)s logger=%(name)s level=%(levelname)s request=%(request)s %(message)s'
        datefmt: '%Y-%m-%dT%H:%M:%S'
filters:
    context:
        (): synapse.logging.context.LoggingContextFilter
        request: ""
handlers:
    console:
        class: logging.StreamHandler
        formatter: logfmt
        filters: [context]
loggers:
    synapse.storage.SQL:
        level: ERROR

    # Beacon monitoring: auth provider and monitor module
    crypto_auth_provider:
        level: INFO
    beacon_monitor_module:
        level: INFO
    beacon_info_module:
        level: INFO

    # Synapse auth/login (failed logins, rate limiting)
    synapse.handlers.auth:
        level: WARNING
    synapse.rest.client.login:
        level: INFO
root:
    level: ERROR
    handlers: [console]
disable_existing_loggers: false
